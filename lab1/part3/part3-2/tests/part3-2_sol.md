## Part 3 ‚Äì Introduction to Digital Simulation 
### Problem 2: Simulation on Sequential Logic circuit. 

‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡πÑ‡∏Å‡∏î‡πå‡πÄ‡∏â‡∏•‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏ß‡∏á‡∏à‡∏£‡∏ô‡∏±‡∏ö (Counter) ‡∏î‡πâ‡∏ß‡∏¢ Cocotb ‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡∏ä‡πà‡∏ß‡∏¢‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏´‡∏•‡∏±‡∏Å‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì‡∏ô‡∏≤‡∏¨‡∏¥‡∏Å‡∏≤ (Clock Simulation) ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡πÑ‡∏•‡πà‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì (Waveform Trace) ‡∏ó‡∏µ‡∏•‡∏∞‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Ñ‡∏£‡∏±‡∏ö

## 1Ô∏è‚É£‚è±Ô∏è Simulation and Testing with Clock

‡∏´‡∏±‡∏ß‡πÉ‡∏à‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏Ç‡∏≠‡∏á‡∏ß‡∏á‡∏à‡∏£ Digital ‡∏Ñ‡∏∑‡∏≠ Clock (‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì‡∏ô‡∏≤‡∏¨‡∏¥‡∏Å‡∏≤) ‡∏ã‡∏∂‡πà‡∏á‡∏ó‡∏≥‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏∞‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏ß‡∏á‡∏à‡∏£ ‡πÉ‡∏ô‡πÇ‡∏Ñ‡πâ‡∏î‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏ô‡∏µ‡πâ‡πÄ‡∏£‡∏≤‡πÉ‡∏ä‡πâ‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏î‡∏±‡∏á‡∏ô‡∏µ‡πâ:

**‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á Clock (Clock Generation)**

```
clock = Clock(dut.clk, 10, units="ns")
clock.start(start_high=False)
```


* Period: `10 ns` ‡∏´‡∏°‡∏≤‡∏¢‡∏ñ‡∏∂‡∏á‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏•‡∏π‡∏Å‡∏Ñ‡∏•‡∏∑‡πà‡∏ô‡πÉ‡∏ä‡πâ‡πÄ‡∏ß‡∏•‡∏≤ 10 ‡∏ô‡∏≤‡πÇ‡∏ô‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ

* start_high=False: ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏ó‡∏µ‡πà Logic `0` ‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡πà‡∏≠‡∏¢‡∏Ç‡∏∂‡πâ‡∏ô‡πÑ‡∏õ `1`

**‡∏Å‡∏≤‡∏£‡∏ã‡∏¥‡∏á‡∏Ñ‡πå‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏∞ (Synchronization)**

‡πÉ‡∏ô Python `(async/await)` ‡πÄ‡∏£‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏≠‡πÉ‡∏´‡πâ Simulation ‡∏Ç‡∏¢‡∏±‡∏ö‡πÑ‡∏õ‡∏ï‡∏≤‡∏°‡πÄ‡∏ß‡∏•‡∏≤‡∏à‡∏£‡∏¥‡∏á‡∏Ç‡∏≠‡∏á‡∏ß‡∏á‡∏à‡∏£

* await `RisingEdge(dut.clk):` ‡∏£‡∏≠‡∏à‡∏ô‡∏Å‡∏ß‡πà‡∏≤‡∏Ç‡∏≤‡∏Ç‡∏∂‡πâ‡∏ô‡∏Ç‡∏≠‡∏á Clock (‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏∞‡∏ó‡∏µ‡πà‡∏ß‡∏á‡∏à‡∏£‡∏°‡∏±‡∏Å‡∏à‡∏∞‡∏ó‡∏≥‡∏á‡∏≤‡∏ô/‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏Ñ‡πà‡∏≤)

* await `FallingEdge(dut.clk):` ‡∏£‡∏≠‡∏à‡∏ô‡∏Å‡∏ß‡πà‡∏≤‡∏Ç‡∏≤‡∏•‡∏á‡∏Ç‡∏≠‡∏á Clock (‡∏°‡∏±‡∏Å‡πÉ‡∏ä‡πâ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ñ‡πà‡∏≤ Output ‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏ß‡∏á‡∏à‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß ‡∏´‡∏£‡∏∑‡∏≠‡∏õ‡πâ‡∏≠‡∏ô‡∏Ñ‡πà‡∏≤ Input ‡πÉ‡∏´‡∏°‡πà‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏£‡∏≠‡∏ö‡∏ñ‡∏±‡∏î‡πÑ‡∏õ)

## 2Ô∏è‚É£ üîç Code Walkthrough & Waveform Analysis

‡∏™‡πà‡∏ß‡∏ô‡∏ô‡∏µ‡πâ‡∏Ñ‡∏∑‡∏≠‡∏´‡∏±‡∏ß‡πÉ‡∏à‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏Ñ‡∏£‡∏±‡∏ö ‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡∏°‡∏≤‡πÑ‡∏•‡πà‡∏î‡∏π‡∏ß‡πà‡∏≤ Input ‡∏ó‡∏µ‡πà‡∏õ‡πâ‡∏≠‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏õ `(enable, reset)` ‡∏™‡πà‡∏á‡∏ú‡∏•‡∏ï‡πà‡∏≠ Output `(count)` ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£‡πÉ‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏£‡∏≠‡∏ö‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì‡∏ô‡∏≤‡∏¨‡∏¥‡∏Å‡∏≤

**‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡∏Ç‡∏≠‡∏á‡∏ß‡∏á‡∏à‡∏£ (Logic Assumption):**

* Priority: reset ‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î (‡∏ñ‡πâ‡∏≤ reset=1 ‡∏Ñ‡πà‡∏≤‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô 0 ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ)
* Counting: ‡∏ñ‡πâ‡∏≤ reset=0 ‡πÅ‡∏•‡∏∞ enable=1 ‡∏Ñ‡πà‡∏≤‡∏à‡∏∞‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡∏∂‡πâ‡∏ô
* Hold: ‡∏ñ‡πâ‡∏≤ reset=0 ‡πÅ‡∏•‡∏∞ enable=0 ‡∏Ñ‡πà‡∏≤‡∏à‡∏∞‡∏Ñ‡∏á‡∏ó‡∏µ‡πà

üìä ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏™‡∏£‡∏∏‡∏õ‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô (Cycle-by-Cycle)

| Cycle | Enable | Reset | Action | ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå (Count Value) | ‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢ |
| ---- | ---- | ---- | ---- | ---- | ---- |
| Start | 0 | 0 | Init | x or 0 | ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö |
| 0 | 0 | 0 | Hold | 0 | ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏ô‡∏±‡∏ö |
| 1 | 0 | 0 | Hold | 0 | ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏ô‡∏±‡∏ö |
| 2 | 0 | 1 | RESET | 0 | ‡∏™‡∏±‡πà‡∏á Reset ‡∏£‡∏∞‡∏ö‡∏ö (‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç!) |
| 3 | 0 | 0 | Hold | 0 | ‡∏õ‡∏•‡πà‡∏≠‡∏¢ Reset ‡πÅ‡∏ï‡πà‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà Enable |
| 4 | 1 | 0 | Count | 1 | ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ô‡∏±‡∏ö‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà 1 (0 ‚Üí 1) |
| 5 | 1 | 0 | Count | 2 | ‡∏ô‡∏±‡∏ö‡∏ï‡πà‡∏≠ (1 ‚Üí 2) |
| 6 | 0 | 0 | Pause | 2 | ‡∏´‡∏¢‡∏∏‡∏î‡∏ô‡∏±‡∏ö‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß (‡∏Ñ‡πà‡∏≤‡∏Ñ‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏î‡∏¥‡∏°) |
| 7 | 1 | 0 | Count | 3 | ‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡∏ô‡∏±‡∏ö‡∏ï‡πà‡∏≠ (2 ‚Üí 3) |
| 8 | 1 | 0 | Count | 4 | ‡∏ô‡∏±‡∏ö‡∏ï‡πà‡∏≠ (3 ‚Üí 4) |
| 9 | 1 | 0 | Count | 5 | ‡∏ô‡∏±‡∏ö‡∏ï‡πà‡∏≠ (4 ‚Üí 5) |
| 10 | 0 | 0 | Pause | 5 | ‡∏´‡∏¢‡∏∏‡∏î‡∏ô‡∏±‡∏ö |
| 11 | 0 | 0 | Pause | 5 | ‡∏´‡∏¢‡∏∏‡∏î‡∏ô‡∏±‡∏ö |

**‡πÄ‡∏õ‡∏¥‡∏î waveform ‡∏î‡πâ‡∏ß‡∏¢ GTKWave/Surfer ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π**

* clk
* enable
* reset

‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏†‡∏≤‡∏û‡∏î‡∏±‡∏á‡πÉ‡∏ô Report

